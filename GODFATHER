#!/bin/bash


_python_() {
    python3${pVer%.*} -c "$1"
}

_GODFATHERBOT_MAIN() {
    $(_python_ 'from git import Repo
import sys

_UPSTREAM_ = "https://github.com/godfatherakkii/GODFATHERBOT"
_BRANCH_ = "master"

repo = Repo.init()
origin = repo.create_remote("temponame", _UPSTREAM_)
origin.fetch()
repo.create_head(_BRANCH_, origin.refs[_BRANCH_])
repo.heads[_BRANCH_].checkout(True) ')
}

_godfather_repo () {
    local hrepo
    hrepo=`echo "aHR0cHM6Ly9naXRodWIuY29tL0xFR0VORC1MWC9QbHVnaW5Hb2Q=" | base64 -d`
    echo "$rlink"
}

_godfather_zip () {
    echo "aHR0cHM6Ly9naXRodWIuY29tL0xFR0VORC1MWC9QbHVnaW5Hb2QvYXJjaGl2ZS9tYXN0ZXIuemlw" | base64 -d
}

_GODFATHERBOT_PLUG() {
    local hrepo=$(_godfather_repo)
    $(_python_ 'from git import Repo
import sys
_UPSTREAM_ = "'$hrepo'"
_BRANCH_ = "master"
repo = Repo.init()
origin = repo.create_remote("temponame", _UPSTREAM_)
origin.fetch()
repo.create_head(_BRANCH_, origin.refs[_BRANCH_])
repo.heads[_BRANCH_].checkout(True) ')
}

_starter () {
    local godfatherpath
    godfatherpath="PluginGod.zip"
    echo "â•”â•â•â•â•â°ğ“†©à¼’Starting GodFather Bot ğ“†©à¼’â±â•ââŠ±â"
    echo "â•‘â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â£"
    echo "â•‘â”£âª¼ GODFATHER BOT IS ON FIRE TELEGRAM "
    echo "â•‘â”£âª¼ (OWNER : @GODFATHERAKKII)"
    echo "â•‘â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â£"
    echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ââŠ±âÛªÛª"
    wget -q $(_godfather_zip) -O "$godfatherpath"
    GODFATHERPATH=$(zipinfo -1 "$godfatherpath" | grep -v "/.");
    unzip -qq "$godfatherpath"
    rm -rf "$godfatherpath"
    # _GODFATHERBOT_MAIN
    cd $GODFATHERPATH
    # _GODFATHERBOT_PLUG
    python3 ../setup/updater.py ../requirements.txt requirements.txt
    echo "â•”â•â•â•â•â°ğ“†©à¼’Starting Loding......... ğ“†©à¼’â±â•ââŠ±â"
    echo "â•‘â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â£"
    echo "â•‘â”£âª¼ Loading........................................."
    echo "â•‘â”£âª¼ Cloneeeeeeee repo..........."
    echo "â•‘â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â£"
    echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ââŠ±âÛªÛª"
    python3 -m GodFather
}

_starter
